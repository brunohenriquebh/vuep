<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <link rel="stylesheet" href="dist/vuep.css" />
    <link
      rel="stylesheet"
      href="node_modules/codemirror/addon/hint/show-hint.css"
    />
  </head>

  <body>
    <script>
      window.linterDefaultConfig = {
        parserOptions: {
          ecmaVersion: 2018,
          sourceType: "module",
          ecmaFeatures: {
            jsx: true
          }
        },
        env: {
          browser: true
        },
        plugins: ["html", "import", "node", "promise", "standard"],
        rules: {
          "accessor-pairs": "error",
          "arrow-spacing": ["error", { before: true, after: true }],
          "block-spacing": ["error", "always"],
          "brace-style": ["error", "1tbs", { allowSingleLine: true }],
          camelcase: ["error", { properties: "never" }],
          "comma-dangle": [
            "error",
            {
              arrays: "never",
              objects: "never",
              imports: "never",
              exports: "never",
              functions: "never"
            }
          ],
          "comma-spacing": ["error", { before: false, after: true }],
          "comma-style": ["error", "last"],
          "constructor-super": "error",
          curly: ["error", "multi-line"],
          "dot-location": ["error", "property"],
          "eol-last": "error",
          eqeqeq: ["error", "always", { null: "ignore" }],
          "func-call-spacing": ["error", "never"],
          "generator-star-spacing": ["error", { before: true, after: true }],
          "handle-callback-err": ["error", "^(err|error)$"],
          indent: [
            "error",
            2,
            {
              SwitchCase: 1,
              VariableDeclarator: 1,
              outerIIFEBody: 1,
              MemberExpression: 1,
              FunctionDeclaration: { parameters: 1, body: 1 },
              FunctionExpression: { parameters: 1, body: 1 },
              CallExpression: { arguments: 1 },
              ArrayExpression: 1,
              ObjectExpression: 1,
              ImportDeclaration: 1,
              flatTernaryExpressions: false,
              ignoreComments: false
            }
          ],
          "key-spacing": ["error", { beforeColon: false, afterColon: true }],
          "keyword-spacing": ["error", { before: true, after: true }],
          "new-cap": ["error", { newIsCap: true, capIsNew: false }],
          "new-parens": "error",
          "no-array-constructor": "error",
          "no-caller": "error",
          "no-class-assign": "error",
          "no-compare-neg-zero": "error",
          "no-cond-assign": "error",
          "no-const-assign": "error",
          "no-constant-condition": ["error", { checkLoops: false }],
          "no-control-regex": "error",
          "no-debugger": "error",
          "no-delete-var": "error",
          "no-dupe-args": "error",
          "no-dupe-class-members": "error",
          "no-dupe-keys": "error",
          "no-duplicate-case": "error",
          "no-empty-character-class": "error",
          "no-empty-pattern": "error",
          "no-eval": "error",
          "no-ex-assign": "error",
          "no-extend-native": "error",
          "no-extra-bind": "error",
          "no-extra-boolean-cast": "error",
          "no-extra-parens": ["error", "functions"],
          "no-fallthrough": "error",
          "no-floating-decimal": "error",
          "no-func-assign": "error",
          "no-global-assign": "error",
          "no-implied-eval": "error",
          "no-inner-declarations": ["error", "functions"],
          "no-invalid-regexp": "error",
          "no-irregular-whitespace": "error",
          "no-iterator": "error",
          "no-label-var": "error",
          "no-labels": ["error", { allowLoop: false, allowSwitch: false }],
          "no-lone-blocks": "error",
          "no-mixed-operators": [
            "error",
            {
              groups: [
                ["==", "!=", "===", "!==", ">", ">=", "<", "<="],
                ["&&", "||"],
                ["in", "instanceof"]
              ],
              allowSamePrecedence: true
            }
          ],
          "no-mixed-spaces-and-tabs": "error",
          "no-multi-spaces": "error",
          "no-multi-str": "error",
          "no-multiple-empty-lines": ["error", { max: 1, maxEOF: 0 }],
          "no-negated-in-lhs": "error",
          "no-new": "error",
          "no-new-func": "error",
          "no-new-object": "error",
          "no-new-require": "error",
          "no-new-symbol": "error",
          "no-new-wrappers": "error",
          "no-obj-calls": "error",
          "no-octal": "error",
          "no-octal-escape": "error",
          "no-path-concat": "error",
          "no-proto": "error",
          "no-redeclare": "error",
          "no-regex-spaces": "error",
          "no-return-assign": ["error", "except-parens"],
          "no-return-await": "error",
          "no-self-assign": "error",
          "no-self-compare": "error",
          "no-sequences": "error",
          "no-shadow-restricted-names": "error",
          "no-sparse-arrays": "error",
          "no-tabs": "error",
          "no-template-curly-in-string": "error",
          "no-this-before-super": "error",
          "no-throw-literal": "error",
          "no-trailing-spaces": "error",
          "no-undef": "error",
          "no-undef-init": "error",
          "no-unexpected-multiline": "error",
          "no-unmodified-loop-condition": "error",
          "no-unneeded-ternary": ["error", { defaultAssignment: false }],
          "no-unreachable": "error",
          "no-unsafe-finally": "error",
          "no-unsafe-negation": "error",
          "no-unused-expressions": [
            "error",
            {
              allowShortCircuit: true,
              allowTernary: true,
              allowTaggedTemplates: true
            }
          ],
          "no-unused-vars": [
            "error",
            { vars: "all", args: "none", ignoreRestSiblings: true }
          ],
          "no-use-before-define": [
            "error",
            { functions: false, classes: false, variables: false }
          ],
          "no-useless-call": "error",
          "no-useless-computed-key": "error",
          "no-useless-constructor": "error",
          "no-useless-escape": "error",
          "no-useless-rename": "error",
          "no-useless-return": "error",
          "no-whitespace-before-property": "error",
          "no-with": "error",
          "object-curly-spacing": ["error", "always"],
          "object-property-newline": [
            "error",
            { allowMultiplePropertiesPerLine: true }
          ],
          "one-var": ["error", { initialized: "never" }],
          "operator-linebreak": [
            "error",
            "after",
            { overrides: { "?": "before", ":": "before" } }
          ],
          "padded-blocks": [
            "error",
            { blocks: "never", switches: "never", classes: "never" }
          ],
          "prefer-promise-reject-errors": "error",
          quotes: [
            "error",
            "single",
            { avoidEscape: true, allowTemplateLiterals: true }
          ],
          "rest-spread-spacing": ["error", "never"],
          semi: ["error", "never"],
          "semi-spacing": ["error", { before: false, after: true }],
          "space-before-blocks": ["error", "always"],
          "space-before-function-paren": ["error", "always"],
          "space-in-parens": ["error", "never"],
          "space-infix-ops": "error",
          "space-unary-ops": ["error", { words: true, nonwords: false }],
          "spaced-comment": [
            "error",
            "always",
            {
              line: { markers: ["*package", "!", "/", ",", "="] },
              block: {
                balanced: true,
                markers: ["*package", "!", ",", ":", "::", "flow-include"],
                exceptions: ["*"]
              }
            }
          ],
          "symbol-description": "error",
          "template-curly-spacing": ["error", "never"],
          "template-tag-spacing": ["error", "never"],
          "unicode-bom": ["error", "never"],
          "use-isnan": "error",
          "valid-typeof": ["error", { requireStringLiterals: true }],
          "wrap-iife": ["error", "any", { functionPrototypeMethods: true }],
          "yield-star-spacing": ["error", "both"],
          yoda: ["error", "never"]
        }
      };
    </script>

    <script src="node_modules/codemirror/lib/codemirror.js"></script>
    <script src="eslint-browser.js"></script>
    <script src="node_modules/vue/dist/vue.js"></script>
    <script src="vue-grid-layout.umd.js"></script>
    <script src="dist/vuep.min.js"></script>

    <input
      type="hidden"
      id="component-js_init"
      class="form-control"
      name="Component[js_init]"
      value="var teste
  export default {
      data: () => ({
        fruits: [
          &quot;Laranja&quot;,
          &quot;Limao&quot;,
          &quot;Manga&quot;,
          &quot;Uva&quot;
        ]
      })
    }"
    />

    <input
      type="hidden"
      id="component-html_init"
      class="form-control"
      name="Component[html_init]"
      value="  <div>
            <h2>Hello from PHP Teste 123 1231312</h2>
            <h3>Demo</h3>
            <ul>
              <li v-for=&quot;fruit in fruits&quot;>
               {{ fruit }}
              </li>
            </ul>
          </div>"
    />

    <input
      type="hidden"
      id="component-css_init"
      class="form-control"
      name="Component[css_init]"
      value="div {
              color: #2c3e50;
              font-family: Arial, sans-serif;
            }
            
            a {
              color: #42b983;
            }"
    />

    <div id="vue-editor">
      <vuep
        :iframe="iframe"
        template="#example"
        el-input-html="component-html_init"
        el-input-css="component-css_init"
        el-input-js="component-js_init"
        complex-preview-url="http://localhost:8080/#/"
      >
      </vuep>
    </div>

    <iframe id="previewIframe" style="display:none"></iframe>

    <script>
      Vue.use(Vuep /*, { codemirror options } */);
      // or Vue.component('Vuep', Vuep)
      //Vue.use(httpVueLoader);
      window.arrExternalComponents = {};
      window.initVue = function() {
        console.log(window.arrExternalComponents);

        setTimeout(function() {
          var iframe = document.getElementById("previewIframe");

          new Vue({
            el: "#vue-editor",
            //components: window.arrExternalComponents,
            data: { iframe: "previewIframe", layout: [] },
            created: function() {
              //this.code =
            }
          });
        }, 1000);
      };

      window.initVue();
    </script>
  </body>
</html>
